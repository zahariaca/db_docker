============================================

Connect to MySQL db

`mysql -u$USERNAME -p$PASSWORD`

============================================

Export users and privileges:

```
mysql -uroot -proot  -e"select concat('show grants for ','\'',user,'\'@\'',host,'\'') from mysql.user" > user_list_with_header.txt 
sed '1d' user_list_with_header.txt > ./user.txt 
while read user; do  mysql -uroot -proot -e"$user" > user_grant.txt; sed '1d' user_grant.txt >> user_privileges.txt; echo "flush privileges" >> user_privileges.txt; done < user.txt 
awk '{print $0";"}'  user_privileges.txt >user_privileges_final.sql 
rm user.txt user_list_with_header.txt user_grant.txt user_privileges.txt
```
============================================

Create MySQL user with localhost access:

`CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';`

============================================
Create MySQL user with wildcard host access:

`CREATE USER 'user'@'%' IDENTIFIED BY 'password';`

can also be:

`CREATE USER 'user'@'%.domain.com' IDENTIFIED BY 'password';`

`CREATE USER 'user'@'%.123.123.123' IDENTIFIED BY 'password';`

============================================

After updating MySQL version, when encountering issue: `ERROR 3009 (HY000): Column count of mysql.user is wrong. Expected 50, found 49.` run:

`mysql_upgrade --force -uroot -p`

============================================

Show MySQL server users:

`SELECT User FROM mysql.user;`

============================================

Grant a user all privileges on a database and table:

```
GRANT ALL PRIVILEGES ON $DATABASE . $TABLES to 'cliloginuser'@'%';
FLUSH PRIVILEGES;
```

Use `*` instead of $DATABASE, $TABALES to grant to all databases and tables.

Or:

`GRANT type_of_permission ON database_name.table_name TO ‘username’@'localhost’;`

============================================

Show columns of a table

`SHOW COLUMNS FROM users;`

============================================

Change a column type

`ALTER TABLE users MODIFY isSupplier tinyint(1) NOT NULL DEFAULT 0;`

============================================

Reset autoincremented field

`ALTER TABLE users AUTO_INCREMENT = 1;`

============================================

1-n relationship with a `users` table. `FOREIGN KEY` usefull

```
CREATE TABLE `products` (
  `product_id` int(16) NOT NULL AUTO_INCREMENT,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) NOT NULL,
  `price` float(5,2) NOT NULL,
  `supplierId` int(16) NOT NULL,
  PRIMARY KEY (`product_id`),
  FOREIGN KEY (`supplierID`) REFERENCES users (`user_id`)
);
```

============================================

Will show product name and username when there is a matching supplier_id_ and user_id in both tables

`SELECT products.name, users.username FROM products INNER JOIN users ON products.supplier_id_ = users.user_id;`

============================================

Convert java long date to actual date and time:

`SELECT FROM_UNIXTIME(1542664425498/1000);`

============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================





============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================



============================================


============================================



============================================



============================================
